apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: crossplane-system

resources:
  - environmentconfig.yaml
  - epi-composition.yaml
  - epi-definition.yaml
  - function-auto-ready.yaml
  - function-environment-configs.yaml
  - function-patch-and-transform.yaml
  - function-go-templating.yaml
  - function-kcl.yaml
  - providerconfig-aws.yaml
  - providerconfig-k8s.yaml
  - sql-instance-composition.yaml
  - sql-instance-definition.yaml

# Generate the configmap that includes the KCL codes
configMapGenerator:
  - name: kcl-codes
    options:
      disableNameSuffixHash: true
    files:
      - kcl/epi.k
      - kcl/databases.k
      - kcl/rds.k
