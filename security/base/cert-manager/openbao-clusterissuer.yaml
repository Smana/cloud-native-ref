apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: openbao
  namespace: security
spec:
  vault:
    server: https://bao.priv.${domain_name}:8200
    path: pki_private_issuer/sign/ogenki
    caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN4VENDQWt1Z0F3SUJBZ0lVVkxLT3doMkNBdXFTVmhwdXJlNk9GOEl2Mmpvd0NnWUlLb1pJemowRUF3TXcKZWpFTE1Ba0dBMVVFQmhNQ1JsSXhEekFOQmdOVkJBZ01Ca1p5WVc1alpURU9NQXdHQTFVRUJ3d0ZVR0Z5YVhNeApEekFOQmdOVkJBb01CazluWlc1cmFURVBNQTBHQTFVRUF3d0dUMmRsYm10cE1TZ3dKZ1lKS29aSWh2Y05BUWtCCkZobHpiV0ZwYm1VdWEyRm9iRzkxWTJoQWIyZGxibXRwTG1sdk1CNFhEVEkwTVRFeE9UQTRNRE13TjFvWERUSTUKTVRFeU1EQTRNRE13TjFvd2dZY3hDekFKQmdOVkJBWVRBa1pTTVE4d0RRWURWUVFJREFaR2NtRnVZMlV4RGpBTQpCZ05WQkFjTUJWQmhjbWx6TVE4d0RRWURWUVFLREFaUFoyVnVhMmt4SERBYUJnTlZCQU1NRTA5blpXNXJhU0JKCmJuUmxjbTFsWkdsaGRHVXhLREFtQmdrcWhraUc5dzBCQ1FFV0dYTnRZV2x1WlM1cllXaHNiM1ZqYUVCdloyVnUKYTJrdWFXOHdkakFRQmdjcWhrak9QUUlCQmdVcmdRUUFJZ05pQUFRazQ1YytWTmh1Rk0wZHVyc1dHb3ZqbW5TcQo0eGRZVEI5WTV5RXlyUExwK1NTcmhLb05qaCtDdlRKbW1zbUM1QkdOclBCOXFBMW90WWVXZ0M0RzA0N2Y0UXRvCkxNRHduVEdpV2dNZlNRUjhtRGhqSXpEb1RCUXd2QU5Gb3ZIb3lBaWpnWU13Z1lBd0R3WURWUjBUQVFIL0JBVXcKQXdFQi96QWRCZ05WSFNVRUZqQVVCZ2dyQmdFRkJRY0RBUVlJS3dZQkJRVUhBd0l3RGdZRFZSMFBBUUgvQkFRRApBZ0dtTUIwR0ExVWREZ1FXQkJTdjR2dXV6SDJQeDdNdFNuUnZrMHhuSlhIcklqQWZCZ05WSFNNRUdEQVdnQlJDClZITnZTYm5SRWM0Rkl0N1pJZmp3TGFCak1UQUtCZ2dxaGtqT1BRUURBd05vQURCbEFqQTBnczZIT0syTU1wSzQKRngxem9DN1VZYWMvSUJIZzQ5N1ljaEJGc2lXMEtjVm5Hc1dxeUpmVDFoeTR2M0NZUkNvQ01RQ2ZIaU5XeVBKbAo3Si93ZDB0QS9abFBxY29xMXVLUEZVcHFHUloyVXZIaTUwQWFEbnNwZks2cXMyVWdaVFUrSnBjPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlDaFRDQ0FneWdBd0lCQWdJVUpCVDNoOVZQMWFsay8wQzNuTEllZUM2MWdGb3dDZ1lJS29aSXpqMEVBd013CmVqRUxNQWtHQTFVRUJoTUNSbEl4RHpBTkJnTlZCQWdNQmtaeVlXNWpaVEVPTUF3R0ExVUVCd3dGVUdGeWFYTXgKRHpBTkJnTlZCQW9NQms5blpXNXJhVEVQTUEwR0ExVUVBd3dHVDJkbGJtdHBNU2d3SmdZSktvWklodmNOQVFrQgpGaGx6YldGcGJtVXVhMkZvYkc5MVkyaEFiMmRsYm10cExtbHZNQjRYRFRJME1URXhPVEE0TURFeU4xb1hEVE0wCk1URXlNREE0TURFeU4xb3dlakVMTUFrR0ExVUVCaE1DUmxJeER6QU5CZ05WQkFnTUJrWnlZVzVqWlRFT01Bd0cKQTFVRUJ3d0ZVR0Z5YVhNeER6QU5CZ05WQkFvTUJrOW5aVzVyYVRFUE1BMEdBMVVFQXd3R1QyZGxibXRwTVNndwpKZ1lKS29aSWh2Y05BUWtCRmhsemJXRnBibVV1YTJGb2JHOTFZMmhBYjJkbGJtdHBMbWx2TUhZd0VBWUhLb1pJCnpqMENBUVlGSzRFRUFDSURZZ0FFRElOUzRQUnhRbE1rUVpneVdmd3NiMjE3SnlIazNiZHNEdlkvVmpGQTlReC8KNEthM2k5SnBTS3U4eTJJRngwcldBNDRYVlh4eFZ0WmJLd1hHdjQ0dHFvbklBSG5PSys0WXRkNnlVZXZOOEZ0ZwpmN3B2eTV0blU4Qk0xNlFCOGRGa28xTXdVVEFkQmdOVkhRNEVGZ1FVUWxSemIwbTUwUkhPQlNMZTJTSDQ4QzJnCll6RXdId1lEVlIwakJCZ3dGb0FVUWxSemIwbTUwUkhPQlNMZTJTSDQ4QzJnWXpFd0R3WURWUjBUQVFIL0JBVXcKQXdFQi96QUtCZ2dxaGtqT1BRUURBd05uQURCa0FqQldMZGo4WmFFSGlPeTRKT3ZIVlVsMUxWMkhSSUc0d0M5dAp2Nk11TVhxa3FGSElBN1dkaEFWcEF4SUxuR2M1SFk0Q01HMG9QMGlUeFBDRlV4dFpKWFpJenY2WVVtVFRPUHJFCjUxRU8zbVp3bThMakFwQmxuWG1rNmsrQ2MzZnRZOXl6Q1E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    auth:
      appRole:
        path: approle
        roleId: ${cert_manager_role_id}
        secretRef:
          # This secret should have been created before
          name: cert-manager-openbao-approle
          key: cert_manager_approle_secret
