apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: vault
  namespace: security
spec:
  vault:
    server: https://vault.priv.${domain_name}:8200
    path: pki_private_issuer/sign/ogenki
    caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN4RENDQWt1Z0F3SUJBZ0lVRmIrdmtPSUdJL3NLL2czVS8zVlNRUHh5bkY4d0NnWUlLb1pJemowRUF3TXcKZWpFTE1Ba0dBMVVFQmhNQ1JsSXhEekFOQmdOVkJBZ01Ca1p5WVc1alpURU9NQXdHQTFVRUJ3d0ZVR0Z5YVhNeApEekFOQmdOVkJBb01CazluWlc1cmFURVBNQTBHQTFVRUF3d0dUMmRsYm10cE1TZ3dKZ1lKS29aSWh2Y05BUWtCCkZobHpiV0ZwYm1VdWEyRm9iRzkxWTJoQWIyZGxibXRwTG1sdk1CNFhEVEkwTURNeU1qQTVOVGd5TTFvWERUSTUKTURNeU16QTVOVGd5TTFvd2dZY3hDekFKQmdOVkJBWVRBa1pTTVE4d0RRWURWUVFJREFaR2NtRnVZMlV4RGpBTQpCZ05WQkFjTUJWQmhjbWx6TVE4d0RRWURWUVFLREFaUFoyVnVhMmt4SERBYUJnTlZCQU1NRTA5blpXNXJhU0JKCmJuUmxjbTFsWkdsaGRHVXhLREFtQmdrcWhraUc5dzBCQ1FFV0dYTnRZV2x1WlM1cllXaHNiM1ZqYUVCdloyVnUKYTJrdWFXOHdkakFRQmdjcWhrak9QUUlCQmdVcmdRUUFJZ05pQUFSYXhIWUxrMXY3RTdvTnI1L0MvSDNpc0RVTQpNOE1QRnNTcGZUMUhLSExjK3VUUkNBRWlWcFFEM21nZEhLR1QvaTVMa3BXWmdFcll6ZXRETDIrcmRUVSszNmFNCjdpSUZwSmpDZWlVYmt1U0RMRnRmMGZVZmx2T3F2akMwamtOZ2Z4dWpnWU13Z1lBd0R3WURWUjBUQVFIL0JBVXcKQXdFQi96QWRCZ05WSFNVRUZqQVVCZ2dyQmdFRkJRY0RBUVlJS3dZQkJRVUhBd0l3RGdZRFZSMFBBUUgvQkFRRApBZ0dtTUIwR0ExVWREZ1FXQkJTVE9EOXdqamVSRG5ZdS8vOWFqOHBUcVpoK1lqQWZCZ05WSFNNRUdEQVdnQlNiCkpJRm5ETmJMZXlKNm5Ld1dGb2x5TkM2ekJUQUtCZ2dxaGtqT1BRUURBd05uQURCa0FqQnZUZHRXVHlBbWtqSlgKTC9udGJLcFljQUhSOG9kaDA0U2c4ZXFHTVJ3RElqUWNOOTNyNW5TK0VYMWlOb29IeFBNQ01GMkd0NlF6ZDYxdgpqWGNZejBQQSs3cE9UdWVZOWoxQ3Nnd2xyV2d5bEQxeXF3WTYxMnVNRkNPQ2t6U24zUDBlc1E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlDaFRDQ0FneWdBd0lCQWdJVVVRaDNzV2JWeXFBS2JHazc2VjdQY0crcFNHd3dDZ1lJS29aSXpqMEVBd013CmVqRUxNQWtHQTFVRUJoTUNSbEl4RHpBTkJnTlZCQWdNQmtaeVlXNWpaVEVPTUF3R0ExVUVCd3dGVUdGeWFYTXgKRHpBTkJnTlZCQW9NQms5blpXNXJhVEVQTUEwR0ExVUVBd3dHVDJkbGJtdHBNU2d3SmdZSktvWklodmNOQVFrQgpGaGx6YldGcGJtVXVhMkZvYkc5MVkyaEFiMmRsYm10cExtbHZNQjRYRFRJME1ETXlNakE1TlRZMU5Gb1hEVE0wCk1ETXlNekE1TlRZMU5Gb3dlakVMTUFrR0ExVUVCaE1DUmxJeER6QU5CZ05WQkFnTUJrWnlZVzVqWlRFT01Bd0cKQTFVRUJ3d0ZVR0Z5YVhNeER6QU5CZ05WQkFvTUJrOW5aVzVyYVRFUE1BMEdBMVVFQXd3R1QyZGxibXRwTVNndwpKZ1lKS29aSWh2Y05BUWtCRmhsemJXRnBibVV1YTJGb2JHOTFZMmhBYjJkbGJtdHBMbWx2TUhZd0VBWUhLb1pJCnpqMENBUVlGSzRFRUFDSURZZ0FFa0E0K1FyVDMwZUlVdGVUVEhaM3YvQ2t5N25NbHZ2S21KcjJsUThtd2NhM0cKckhKNjF0cE9VZ0dOb3pUMHVQSG1Gand2dGZ0VzM0empIOUwwb2FwS01BaC9PdlQwekVvUXFKU2ozdkxzUWNYOQpjVi9rWm8zVlFCR29FWWhnblI5Mm8xTXdVVEFkQmdOVkhRNEVGZ1FVbXlTQlp3eld5M3NpZXB5c0ZoYUpjalF1CnN3VXdId1lEVlIwakJCZ3dGb0FVbXlTQlp3eld5M3NpZXB5c0ZoYUpjalF1c3dVd0R3WURWUjBUQVFIL0JBVXcKQXdFQi96QUtCZ2dxaGtqT1BRUURBd05uQURCa0FqQkxMN1IyZEpxendXaGJCdWl4T0k3aUZlVXBGZ2VXSUZIRwpiTExrRERveWFKOWFDWnEzRDdhWnpnSVVoME9PMERzQ01IZUhNRFFYRklMQTdzOThTTEFENU9Ib2didUpaWTdGClFZcGpEVUxybEowQnd1UWFhR0JGYklQd0F1YlQ2OXE3VWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    auth:
      appRole:
        path: approle
        roleId: 9f8a365b-2aad-3af3-66d6-a4ec7e6778c1 # !! This value changes each time I recreate the whole platform
        secretRef:
          name: cert-manager-vault-approle
          key: secret_id
