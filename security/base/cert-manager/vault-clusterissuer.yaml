apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: vault
  namespace: security
spec:
  vault:
    server: https://vault.priv.${domain_name}:8200
    path: pki_private_issuer/sign/ogenki
    caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN4VENDQWt1Z0F3SUJBZ0lVTUdZc0tUMFBFNHp6blNMUHdjaUx2TlJNMG1jd0NnWUlLb1pJemowRUF3TXcKZWpFTE1Ba0dBMVVFQmhNQ1JsSXhEekFOQmdOVkJBZ01Ca1p5WVc1alpURU9NQXdHQTFVRUJ3d0ZVR0Z5YVhNeApEekFOQmdOVkJBb01CazluWlc1cmFURVBNQTBHQTFVRUF3d0dUMmRsYm10cE1TZ3dKZ1lKS29aSWh2Y05BUWtCCkZobHpiV0ZwYm1VdWEyRm9iRzkxWTJoQWIyZGxibXRwTG1sdk1CNFhEVEkwTURFd056RTFORGd6TkZvWERUSTIKTVRBeU56RTFORGd6TkZvd2dZY3hDekFKQmdOVkJBWVRBa1pTTVE4d0RRWURWUVFJREFaR2NtRnVZMlV4RGpBTQpCZ05WQkFjTUJWQmhjbWx6TVE4d0RRWURWUVFLREFaUFoyVnVhMmt4SERBYUJnTlZCQU1NRTA5blpXNXJhU0JKCmJuUmxjbTFsWkdsaGRHVXhLREFtQmdrcWhraUc5dzBCQ1FFV0dYTnRZV2x1WlM1cllXaHNiM1ZqYUVCdloyVnUKYTJrdWFXOHdkakFRQmdjcWhrak9QUUlCQmdVcmdRUUFJZ05pQUFSb0pNZkRTdk9SQzRUS3ZFL0U1bFZxTXZTTQozWnlrWTNCZVpyaFdkWjJocXc5Q2RNc3RwbVVxVjVCZk95a290QjgxN0dGS1JoVVIxUWZ6TUtBTW5rSmxBdkVhCnRoVUo5N3hXNlFKcDlZRUc5Tm1rcUIyb3g4WE92a0tKd3BYYTBycWpnWU13Z1lBd0R3WURWUjBUQVFIL0JBVXcKQXdFQi96QWRCZ05WSFNVRUZqQVVCZ2dyQmdFRkJRY0RBUVlJS3dZQkJRVUhBd0l3RGdZRFZSMFBBUUgvQkFRRApBZ0dtTUIwR0ExVWREZ1FXQkJRRXVMRU1wK0h0YU5XeWl1SmMwWjBPSFFLWGlUQWZCZ05WSFNNRUdEQVdnQlIzCi93NjcrVXVpanc0WUF3eW41S1M4U002Rm9EQUtCZ2dxaGtqT1BRUURBd05vQURCbEFqRUExZGRUSjZwQlZYSUsKa2hiRVZXemY3bURLa2dFa2dJNFB6RmcxejdXdVJVcmwzRnU1RUMxSGYvMi9rUWhEZ1FESkFqQk00RkJNcVdYeQpaajNUVkh2SVlLaVcreEF6LzREN3dPWWlhbDMweFFFaEh4UldlcTRoMHBnang1RHFDbS9CNFdNPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlDaHpDQ0FneWdBd0lCQWdJVVA3NzZLREhsZ3FoeVZIMnVqWU1GQWRIWVJPY3dDZ1lJS29aSXpqMEVBd013CmVqRUxNQWtHQTFVRUJoTUNSbEl4RHpBTkJnTlZCQWdNQmtaeVlXNWpaVEVPTUF3R0ExVUVCd3dGVUdGeWFYTXgKRHpBTkJnTlZCQW9NQms5blpXNXJhVEVQTUEwR0ExVUVBd3dHVDJkbGJtdHBNU2d3SmdZSktvWklodmNOQVFrQgpGaGx6YldGcGJtVXVhMkZvYkc5MVkyaEFiMmRsYm10cExtbHZNQjRYRFRJME1ERXdOekUxTkRJMU1sb1hEVE0wCk1ERXdOekUxTkRJMU1sb3dlakVMTUFrR0ExVUVCaE1DUmxJeER6QU5CZ05WQkFnTUJrWnlZVzVqWlRFT01Bd0cKQTFVRUJ3d0ZVR0Z5YVhNeER6QU5CZ05WQkFvTUJrOW5aVzVyYVRFUE1BMEdBMVVFQXd3R1QyZGxibXRwTVNndwpKZ1lKS29aSWh2Y05BUWtCRmhsemJXRnBibVV1YTJGb2JHOTFZMmhBYjJkbGJtdHBMbWx2TUhZd0VBWUhLb1pJCnpqMENBUVlGSzRFRUFDSURZZ0FFRUxNSnZMbElYb0k3bTdZZHhyL3dJZ3U1MnpmbTNxb3NIdUlCa29XbHFiNGoKVHJsZk9XZ1NsYjJEengyaFB4cG9xdkNEOFhkRjBncktJU0pRMnhEeHhUQWgvVXZPR01seXZxc3JhRmpKVXl6aQo3R3RvejNJZXI1WXNpNFdHQTJnRm8xTXdVVEFkQmdOVkhRNEVGZ1FVZC84T3UvbExvbzhPR0FNTXArU2t2RWpPCmhhQXdId1lEVlIwakJCZ3dGb0FVZC84T3UvbExvbzhPR0FNTXArU2t2RWpPaGFBd0R3WURWUjBUQVFIL0JBVXcKQXdFQi96QUtCZ2dxaGtqT1BRUURBd05wQURCbUFqRUE5NllDWDhKUXRsbndhNDJuYVNvbm56NnJhN2RiQk5NUQpSK0I3SXVOYTlIenlUMEYyaWt0b2tYS0dMZk1qWTE5dkFqRUE3dXFPN1l3WEdpWCtxZnBkMjRKSjZaMFpFZTRRCjhmSVZDZUJOZ0N5c2N4L3JEWWw3QWN5V3NMS1BoZEdWeExPRwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    auth:
      appRole:
        path: approle
        roleId: f8363d0f-b7db-9b08-67ab-8425ab527587 # !! This value changes each time I recreate the whole platform
        secretRef:
          name: cert-manager-vault-approle
          key: secretId
