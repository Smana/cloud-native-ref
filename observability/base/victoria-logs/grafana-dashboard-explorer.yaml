apiVersion: grafana.integreatly.org/v1beta1
kind: GrafanaDashboard
metadata:
  name: observability-victoria-logs-explorer
  namespace: observability
spec:
  allowCrossNamespaceImport: true
  folderRef: "logs"
  datasources:
    - inputName: "DS_VICTORIALOGS"
      datasourceName: "VictoriaLogs"
  instanceSelector:
    matchLabels:
      dashboards: "grafana"
  # Using local fixed version instead of Grafana.com to fix template variable double-quoting
  # Original: https://grafana.com/grafana/dashboards/22759/revisions/6/
  # Issue: Queries had quotes around variables like kubernetes.pod_namespace="$namespace"
  # Fix: Removed quotes to become kubernetes.pod_namespace=$namespace
  configMapRef:
    name: victorialogs-explorer-dashboard
    key: grafana-dashboard-explorer.json
